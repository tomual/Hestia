{% extends "base.html" %}

{% block content %}

<div class="thread">

	<div class="first">
		<h1>{% block title %}{{ thread.thread_title }}{% endblock %}</h1>
		<div class="author">
			<div class="name">{{ thread.author }}</div>
			<div class="location">{{ thread.author.profile.location }}</div>
		</div>
		<div class="time">{{ thread.thread_date|timesince }} ago</div>
		<!-- <div class="time">{{ thread.thread_date|date:"j/m/Y H:i A" }}</div> -->
		<div class="post">{{ thread.thread_content }}</div>
	</div>
	<div class="responses">
		{% for response in thread.response_set.all %}
		<div class="response">
			<div class="author">
				<div class="name">{{ response.author }}</div>
				<div class="location">{{ response.author.profile.location }}</div>
			</div>			
			<div class="time">{{ response.response_date|timesince }} ago</div>
			<div class="post">{{ response.response_content }}</div>
		</div>
		{% endfor %}
	</div>
	<div class="respond">
		{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

		<form action="/forums/{{ thread.id }}/respond/" method="post">
		{% csrf_token %}
		<label for="response_content">Response</label><br>
		<textarea name="response_content"></textarea>
		<button type="submit" class="primary-button">Reply</button>
		</form>
	</div>
</div>
{% endblock %}